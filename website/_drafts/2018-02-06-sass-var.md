---
layout: post
title: "通过 sassResourcesLoader 全局注册 Sass 变量"
date: "2018-02-06"
abstract: ""
keywords: ["sass", "webpack"]
thumb: "http://p3kcye1tf.bkt.clouddn.com/thumb.jpg"
---

先描述下情境，项目中含如下 3 个 .scss 文件：

![](http://p3kcye1tf.bkt.clouddn.com/assets.jpg)

其中 app.scss 在 entry.js 内 import，它定义了部分通用样式（但并未有使用 @mixin 或 % 定义的），引用方式即在组件元素上添加相应 class。请注意：

> app.scss 内的通用样式并未有使用 @mixin 或 % 定义的。

app.scss 内定义的 @mixin、%、变量，若在 .vue 中引用需再次 import app.scss，否则 not found（sass 变量作用域的锅）：

![](http://p3kcye1tf.bkt.clouddn.com/import-app.jpg)

每一 .vue 均 import app.scss，很麻烦...然而更严重的是：

![](http://p3kcye1tf.bkt.clouddn.com/build-app.jpg)

上图为 build 后部分代码的截图，显而易见上下两段代码是冗余的。因为在 .vue 中每 import app.scss 均会产生一段雷同的代码。

故不宜在 app.scss 内定义 @mixin、%、变量，应将 @mixin、% 抽离至 mixins.scss，变量抽离至 vars.scss。但在 .vue 中引用它们也需各自 import，依然麻烦...
